# 06.4 - Data Classification & Sensitivity Labels

## Overview
Microsoft Purview sensitivity labels enable organizations to classify and protect Power BI content based on data sensitivity, ensuring that PHI, financial data, and confidential business information receive appropriate handling throughout its lifecycle. Sensitivity labels applied to Power BI reports, datasets, and dashboards travel with the data when exported to Excel, PowerPoint, or PDF, maintaining protection outside the Power BI environment. In healthcare organizations handling PHI under HIPAA regulations, sensitivity labels provide automated data classification, downstream protection (preventing unencrypted email of labeled files), audit trail of label application, and visual indicators (header/footer markings) reminding users of data sensitivity. This topic covers sensitivity label configuration, automatic vs. manual labeling, label inheritance from datasets to reports, compliance policy enforcement, and integration with Microsoft Purview for unified information protection.

## Key Principles

- **Classify at the Dataset Level**: Apply sensitivity labels to datasets (the source of data), and labels automatically inherit to reports and dashboards built on those datasets. This ensures consistent classificationPHI dataset = all reports show "Confidential - PHI" label.
- **Use Descriptive Label Names**: Label names should clearly communicate data sensitivity and handling requirements. Use healthcare-appropriate names: "Public", "Internal Use Only", "Confidential - PHI", "Highly Confidential - PHI + PII". Avoid generic names like "Label 1" or ambiguous terms like "Sensitive" (sensitive to whom? for what reason?).
- **Automatic Labeling for Consistency**: Configure automatic labeling rules based on dataset content (e.g., if dataset contains columns named "MRN", "Patient_Name", "SSN" ’ auto-apply "Confidential - PHI" label). Reduces human error and ensures new datasets receive appropriate classification from creation.
- **Label Policies Enforce Protection**: Sensitivity labels alone don't protect datalabel policies define what happens when label is applied. Example: "Confidential - PHI" label policy might enforce encryption, prevent screenshots, block email sharing, and add "CONFIDENTIAL - PHI" header to exported files.
- **Audit Label Changes**: Enable auditing of label application, removal, and changes via Microsoft Purview compliance portal. For HIPAA compliance, audit trail demonstrates that PHI is classified and protected, and tracks who accessed or modified sensitive data.

## Practical Examples

### Example 1: Sensitivity Label Hierarchy for Healthcare

**Scenario**: AbsoluteCare needs to establish sensitivity label hierarchy for Power BI content, ranging from public-facing dashboards to highly confidential PHI reports.

**Label Hierarchy** (from least to most sensitive):

**1. Public**
- **Description**: Information approved for public disclosure (annual reports, public health statistics)
- **Color**: Green
- **Protection**: None (no encryption, no restrictions)
- **Use Cases**: Public-facing quality measure dashboards (aggregate data, no patient identifiers), community health reports, public board meeting materials
- **Example Dataset**: "Public_CommunityHealth_Aggregate" (county-level health statistics with no PHI)

**2. Internal Use Only**
- **Description**: Non-PHI business data for internal employees only
- **Color**: Yellow
- **Protection**: Prevent external sharing (block email to non-AbsoluteCare domains), add "Internal Use Only" footer
- **Use Cases**: Operational dashboards (staff productivity, operational metrics), non-clinical administrative reports, HR headcount dashboards (no SSN/salary)
- **Example Dataset**: "Internal_StaffProductivity" (provider visit counts, no patient names)

**3. Confidential - PHI**
- **Description**: Protected Health Information under HIPAA, restricted access
- **Color**: Orange
- **Protection**: Encrypt exported files, prevent screenshots, require authentication for access, add "CONFIDENTIAL - PHI" header/footer, block external email
- **Use Cases**: Clinical dashboards (patient census, quality metrics, readmission tracking), patient-level reports, provider attribution lists
- **Example Dataset**: "Clinical_PatientCensus" (patient names, MRNs, diagnoses, encounters)

**4. Highly Confidential - PHI + PII**
- **Description**: PHI combined with additional PII (SSN, financial information), maximum protection
- **Color**: Red
- **Protection**: All "Confidential - PHI" protections + mandatory MFA for access, geo-fencing (US only), prevent copy/paste, watermark exports with username and timestamp
- **Use Cases**: Financial/billing reports with PHI (patient names + payment info), research datasets with re-identification risk, fraud investigation reports
- **Example Dataset**: "Billing_PatientAccountDetail" (patient names, MRNs, SSNs, credit card numbers, addresses)

**Label Application Example**:
```
Dataset: Clinical_PatientCensus
Label: Confidential - PHI
Inheritance: All reports built on this dataset inherit "Confidential - PHI" label

Reports automatically labeled:
- "Daily Huddle Dashboard" ’ Confidential - PHI
- "Patient Census by Facility" ’ Confidential - PHI
- "Readmission Tracking Report" ’ Confidential - PHI

Exported files:
- Excel export: Encrypted .xlsx file with "CONFIDENTIAL - PHI" header
- PDF export: Watermarked PDF with username/timestamp, encrypted
- PowerPoint export: Protected .pptx with editing restrictions
```

### Example 2: Automatic Labeling Rules

**Scenario**: Automatically classify datasets as "Confidential - PHI" when they contain columns with PHI-related names, reducing reliance on manual labeling and preventing classification errors.

**Automatic Labeling Configuration** (Microsoft Purview):

**Rule 1: Column Name Detection**
```
Rule Name: Auto-Label PHI Datasets
Trigger: Dataset contains any of the following column names:
- Patient_Name, PatientName, FirstName + LastName (combined)
- MRN, MedicalRecordNumber, Patient_ID
- SSN, SocialSecurityNumber
- DOB, DateOfBirth, BirthDate
- Address, Street, ZipCode (if combined with patient identifier)
- Diagnosis, ICD10, DiagnosisCode
- EncounterID, VisitID (if joined to patient dimension)

Action: Apply label "Confidential - PHI"
Confidence: 85% (high confidence, minimal false positives)
```

**Rule 2: Sensitive Information Type Detection** (uses built-in Microsoft classifiers)
```
Rule Name: Auto-Label Based on Data Content
Trigger: Dataset contains sensitive information types:
- U.S. Social Security Number (SSN)
- International Classification of Diseases (ICD-9/ICD-10) codes
- Credit Card Number (if healthcare also processes payment data)

Action: Apply label "Highly Confidential - PHI + PII"
Confidence: 95% (very high confidence, data content detected not just column names)
```

**Rule 3: Source System Detection**
```
Rule Name: Auto-Label Epic EMR Datasets
Trigger: Dataset connected to data source matching pattern:
- Connection string contains "Epic" or "EMR" or "EHR"
- Server name matches "epic-prod-sql.absolutecare.com"

Action: Apply label "Confidential - PHI"
Confidence: 75% (medium confidence, source system may contain non-PHI tables)
Require manual review: Yes (notify dataset owner to confirm appropriate label)
```

**Implementation Steps**:
1. Navigate to Microsoft Purview compliance portal ’ Information Protection ’ Auto-labeling
2. Create new auto-labeling policy for Power BI
3. Define conditions (column names, sensitive info types, data sources)
4. Choose label to apply ("Confidential - PHI")
5. Set policy to "Simulation mode" initially (test without actually applying labels)
6. Review simulation results (30 days), verify no false positives
7. Enable policy in "Auto-apply mode" (automatically applies labels going forward)
8. Monitor policy effectiveness via Purview analytics

**Why this works**: Automatic labeling ensures consistent classification without relying on individual developers to remember labeling requirements. New datasets created with patient columns are immediately classified as PHI, preventing accidental exposure of unclassified datasets.

### Example 3: Label Policy Enforcement

**Scenario**: "Confidential - PHI" label is applied to dataset, but need to define what protections are enforced when this label is present.

**Label Policy Configuration**:

**Label**: Confidential - PHI

**Encryption Settings**:
- **Encrypt content**: Yes (exported files encrypted using Azure Rights Management)
- **Encryption key**: Managed by AbsoluteCare IT (organization holds decryption keys)
- **Offline access**: 7 days (after 7 days offline, user must re-authenticate to access encrypted files)

**Content Marking Settings**:
- **Header**: "CONFIDENTIAL - PROTECTED HEALTH INFORMATION"
  - Font: Arial 12pt
  - Color: Red
  - Alignment: Center
- **Footer**: "AbsoluteCare Internal Use Only - Do Not Distribute"
  - Font: Arial 10pt
  - Color: Gray
  - Alignment: Center
- **Watermark**: "CONFIDENTIAL - {{UserName}} - {{DateTime}}"
  - Font: Arial 48pt
  - Color: Gray (semi-transparent)
  - Diagonal orientation

**Access Control Settings**:
- **Prevent external sharing**: Yes (cannot email to non-@absolutecare.com addresses)
- **Prevent copy/paste**: Yes (users cannot copy data from labeled reports to paste elsewhere)
- **Prevent screenshot**: Yes (screen capture blocked on Windows, macOS with DLP agent installed)
- **Prevent print**: No (clinical staff need to print daily huddle reports for meetings)
- **Prevent export to Excel/PDF**: No (allow export but exported files inherit "Confidential - PHI" label and encryption)

**Authentication Settings**:
- **Require authentication**: Yes (Microsoft Entra ID authentication required)
- **Multi-factor authentication (MFA)**: Required for access outside corporate network
- **Conditional access**: Require compliant device (Intune enrollment) for mobile access

**Audit Settings**:
- **Log label application**: Yes (who applied label, when, to what dataset/report)
- **Log label removal**: Yes (who removed label, justification required)
- **Log access to labeled content**: Yes (who viewed, exported, shared labeled content)
- **Retention**: 7 years (HIPAA audit log requirement)

**Policy Enforcement Example**:
```
User Action: Developer attempts to email "Daily Huddle Dashboard" report (labeled "Confidential - PHI") to personal Gmail account

Enforcement:
1. Outlook DLP policy detects email contains Power BI report with "Confidential - PHI" label
2. Email blocked with message: "This report contains PHI and cannot be sent to external email addresses. Contact IT for assistance."
3. Incident logged in Microsoft Purview ’ Data Loss Prevention ’ Incidents
4. Security team notified of DLP policy violation
5. Developer's manager receives notification for coaching/remediation

Alternative (if recipient is authorized external consultant with BAA):
1. IT pre-approves consultant email: consultant@externalfirm.com
2. Developer emails report ’ allowed
3. Email encrypted in transit (TLS)
4. Recipient receives encrypted .pbix file
5. Recipient must authenticate with Microsoft Entra ID guest account to open file
6. Access logged for audit trail
```

**Why this works**: Label policy enforcement prevents accidental or intentional PHI exposure by blocking unauthorized sharing, encrypting exports, and logging all access for HIPAA compliance audits.

## Common Pitfalls

### L Pitfall 1: Applying Labels Manually Instead of Automatic Labeling
**Description**: Relying on individual developers/analysts to remember to apply sensitivity labels to each new dataset, rather than configuring automatic labeling rules based on dataset characteristics.

**Impact**: Inconsistent labeling (some PHI datasets not labeled, some labeled incorrectly), PHI exposure risk (unlabeled datasets can be shared externally without restriction), compliance gaps (HIPAA requires PHI classification, unlabeled datasets violate policy). Human error inevitabledevelopers forget to apply labels under deadline pressure.

**Prevention**:
- **Configure Auto-Labeling Rules**: Detect PHI-related column names, sensitive information types, or source systems and automatically apply appropriate labels
- **Default Label Policy**: Set organization-wide default label of "Internal Use Only" for all new content (prevents unclassified content)
- **Require Justification for Label Removal**: If user tries to downgrade or remove label (e.g., change "Confidential - PHI" to "Public"), require written justification and manager approval
- **Regular Scans**: Monthly scan of all Power BI datasets to identify unlabeled content, notify owners to classify

**Auto-Labeling vs. Manual Labeling**:
| Approach | Consistency | PHI Detection Rate | Admin Overhead | User Burden |
|----------|-------------|-------------------|----------------|-------------|
| Manual Only | Low (60-70%) | Misses 20-30% of PHI datasets | High (constant reminders) | High (remember every time) |
| Auto-Labeling + Manual Review | High (95%+) | Catches 95%+ of PHI datasets | Low (one-time setup) | Low (auto-applied) |

### L Pitfall 2: Not Inheriting Labels from Dataset to Report
**Description**: Labeling datasets but not enabling label inheritance to reports and dashboards, resulting in dataset labeled "Confidential - PHI" but reports showing no label (appearing as public/unclassified).

**Impact**: Users export reports as Excel/PDF assuming no sensitivity restrictions (no label visible), PHI data leaves organization unencrypted, compliance violation. Auditors see labeled datasets but unlabeled reports and flag as control failure.

**Prevention**:
- **Enable Label Inheritance**: Power BI tenant setting: "Automatically apply sensitivity labels from data sources" = ON
- **Verify Inheritance**: After labeling dataset, check that reports built on that dataset automatically show same label
- **Enforce Downstream Protection**: Even if report not manually labeled, inherited label from dataset applies protections (encryption, header/footer)
- **Test Export**: Export report to Excel/PDF, verify exported file shows sensitivity label and protections applied

**Label Inheritance Flow**:
```
Dataset: Clinical_PatientCensus
Label: Confidential - PHI (manually or auto-applied)
  “ (inheritance enabled)
Report 1: Daily Huddle Dashboard
Label: Confidential - PHI (inherited from dataset)
  “
Excel Export: DailyHuddle_20251021.xlsx
Label: Confidential - PHI (inherited from report)
Protection: File encrypted, header added: "CONFIDENTIAL - PHI"
```

### L Pitfall 3: Over-Classification (Labeling Everything as "Highly Confidential")
**Description**: Applying most restrictive label ("Highly Confidential - PHI + PII") to all datasets "just to be safe", even for aggregate reports with no patient identifiers or non-PHI operational data.

**Impact**: Over-restriction hinders legitimate business use (users cannot share operational dashboards that contain no PHI), user frustration leads to workarounds (screenshots to bypass label protections, defeating purpose), "cry wolf" effect (users ignore labels because everything marked as highly confidential, even mundane data).

**Prevention**:
- **Right-Sizing Labels**: Use least restrictive label necessary for data sensitivity. Aggregate county-level health statistics (no patient identifiers) = "Public", not "Highly Confidential"
- **PHI Determination**: If dataset truly contains no PHI (no patient names, MRNs, dates combined with identifiers), use "Internal Use Only" label instead of "Confidential - PHI"
- **Label Guidance**: Provide decision tree or flowchart to help developers choose appropriate label

**Label Selection Decision Tree**:
```
Does dataset contain patient-level data with identifiers (names, MRNs, dates)?
  YES ’ Does it also contain financial/PII (SSN, credit cards, addresses)?
    YES ’ "Highly Confidential - PHI + PII"
    NO ’ "Confidential - PHI"
  NO ’ Does dataset contain AbsoluteCare internal business data?
     YES ’ "Internal Use Only"
     NO ’ "Public"

Example Applications:
- Patient census with names/MRNs ’ "Confidential - PHI"
- Billing report with names/SSNs ’ "Highly Confidential - PHI + PII"
- Staff productivity (no patient data) ’ "Internal Use Only"
- County health statistics ’ "Public"
```

### L Pitfall 4: Not Training Users on Label Meaning and Handling
**Description**: Deploying sensitivity labels without educating users on what each label means, what protections are enforced, and how to handle labeled content appropriately.

**Impact**: Users confused by labels ("What does 'Confidential - PHI' mean? Can I email this?"), accidental policy violations (user tries to email labeled content to personal email not understanding restriction), support burden (constant questions about why email blocked, why export encrypted).

**Prevention**:
- **User Training**: Mandatory training for all Power BI users on sensitivity labels before rolling out label policies
- **Label Tooltips**: Configure label descriptions that appear on hover: "This report contains PHI protected under HIPAA. Do not share outside AbsoluteCare without authorization."
- **Policy Documentation**: Publish sensitivity label guide on intranet explaining each label, when to use, what restrictions apply
- **Just-in-Time Help**: When DLP policy blocks action (e.g., email blocked), show helpful message: "This report is labeled 'Confidential - PHI' and cannot be emailed externally. For authorized sharing, contact IT to add recipient as guest user."

**Training Outline**:
```
Sensitivity Labels Training (30 minutes)

1. What Are Sensitivity Labels? (5 min)
   - Classification system for data sensitivity
   - Travels with data (exports, shares, downstream use)
   - Enforces protections based on label policy

2. AbsoluteCare Label Hierarchy (10 min)
   - Public: No restrictions
   - Internal Use Only: Internal employees only
   - Confidential - PHI: HIPAA-protected patient data
   - Highly Confidential - PHI + PII: Maximum protection

3. How to Apply Labels (5 min)
   - Automatic labeling (datasets with PHI columns)
   - Manual labeling (dataset settings ’ Sensitivity)
   - Label inheritance (dataset ’ report ’ export)

4. What Labels Prevent (5 min)
   - External email sharing blocked
   - Screenshots prevented
   - Exports encrypted
   - Access logged for audit

5. Handling Labeled Content (5 min)
   - How to share with authorized external users (IT request)
   - Accessing encrypted exports (authentication required)
   - Troubleshooting DLP blocks (check label, contact IT)

6. Quiz & Questions (5 min)
   - Scenario-based questions
   - Q&A session
```

## Healthcare Context

### HIPAA Compliance and Audit Trail
**Data Classification Requirement**: HIPAA Security Rule (§164.308(a)(1)(ii)(A)) requires risk analysis including identification and classification of electronic PHI (ePHI). Sensitivity labels provide documented classification system, demonstrating that organization has identified which Power BI datasets contain PHI and applied appropriate safeguards.

**Audit Trail**: Microsoft Purview audit logs capture:
- Label application (who, when, to what dataset/report)
- Label removal or downgrade (requires justification)
- Access to labeled content (who viewed, exported, shared PHI reports)
- DLP policy violations (attempted unauthorized sharing of labeled content)
- Retention: 7 years (HIPAA audit log requirement)

**Compliance Reporting**: Purview compliance portal provides dashboards showing:
- Percentage of Power BI datasets labeled (target: 100%)
- Distribution of labels (how many "Confidential - PHI" vs. "Public")
- DLP incidents (how many blocked emails, file shares)
- User behavior (top users accessing PHI content)

### Downstream Protection Beyond Power BI
**Label Travels with Data**: When clinical user exports "Confidential - PHI" labeled report to Excel, sensitivity label persists in .xlsx file. If user then emails Excel file (from Outlook), DLP policy detects "Confidential - PHI" label and blocks email to external recipients. Protection extends beyond Power BI to entire Microsoft 365 ecosystem.

**Integration with Microsoft 365**:
- **Outlook**: DLP policy blocks emailing labeled PHI files to unauthorized recipients
- **OneDrive/SharePoint**: Labeled files stored with encryption, access logged
- **Teams**: Sharing labeled reports in Teams applies same protections (external guest access restrictions)
- **Power Automate**: Automated workflows respect label policies (can't auto-email PHI externally)

### Sensitivity Labels vs. Row-Level Security
**Complementary Controls** (both required for comprehensive security):
- **RLS (Row-Level Security)**: Filters data within reports (provider sees only their attributed patients)
- **Sensitivity Labels**: Classifies and protects entire report/dataset (prevents external sharing, encrypts exports)

**Example**:
```
Dataset: Clinical_PatientCensus
RLS: Filters to [ProviderKey] = USERNAME()
Sensitivity Label: Confidential - PHI

User: Dr. Smith (ProviderKey = 12345)
Access: Sees only patients attributed to ProviderKey 12345 (RLS)
Protection: Cannot email report externally, exports encrypted (Sensitivity Label)

Combined Protection:
- RLS prevents Dr. Smith from seeing other providers' patients
- Sensitivity label prevents Dr. Smith from emailing report to personal account
- Both controls required: RLS alone wouldn't prevent external sharing, label alone wouldn't filter data
```

## Learn More

### Official Documentation
- [Sensitivity labels in Power BI](https://learn.microsoft.com/en-us/power-bi/enterprise/service-security-sensitivity-label-overview) - Microsoft Learn comprehensive guide to sensitivity labels, inheritance, and policy enforcement
- [Apply sensitivity labels in Power BI](https://learn.microsoft.com/en-us/power-bi/enterprise/service-security-apply-data-sensitivity-labels) - Step-by-step guide for labeling datasets, reports, and dashboards
- [Microsoft Purview Information Protection](https://learn.microsoft.com/en-us/purview/information-protection) - Unified information protection across Microsoft 365, including Power BI integration
- [Data loss prevention for Power BI](https://learn.microsoft.com/en-us/power-bi/enterprise/service-security-dlp-policies-for-power-bi-overview) - DLP policies that detect and protect labeled Power BI content

### Expert Resources
- [Sensitivity Labels Best Practices - Microsoft](https://learn.microsoft.com/en-us/purview/information-protection-solution) - Enterprise deployment guide for sensitivity labels across Microsoft 365
- [Power BI Sensitivity Labels Deployment Guide](https://github.com/microsoft/powerbi-desktop-samples) - Microsoft sample deployment scripts and policies for Power BI labeling
- [Automatic Labeling Configuration - Microsoft Tech Community](https://techcommunity.microsoft.com/t5/security-compliance-and-identity/bg-p/MicrosoftSecurityandCompliance) - Community guidance on auto-labeling rules and best practices

### Video Content
- [Sensitivity Labels in Power BI - Microsoft](https://www.youtube.com/watch?v=zEP5gG2k7Hk) - Official Microsoft overview of sensitivity labels, policy configuration, and downstream protection
- [Implementing Data Classification - Microsoft Mechanics](https://www.youtube.com/watch?v=UI0p9xqMNfI) - Microsoft Mechanics deep dive on Purview Information Protection and Power BI integration
- [Power BI Security Deep Dive - Guy in a Cube](https://www.youtube.com/watch?v=7TRss3L8J2Q) - Patrick and Adam on RLS + sensitivity labels combined security model

### Related Topics in This Guide
- [06.1 - Row-Level Security Patterns](./06.1%20-%20Row-Level%20Security%20Patterns.md) - RLS filters data within reports; sensitivity labels protect entire reports (both required for comprehensive security)
- [06.2 - Workspace Roles & Permissions](./06.2%20-%20Workspace%20Roles%20&%20Permissions.md) - Workspace roles control who accesses workspaces; sensitivity labels classify and protect content within workspaces
- [05.5 - Documentation Standards](../05%20-%20Development%20Workflow%20&%20Version%20Control/05.5%20-%20Documentation%20Standards.md) - Data lineage documentation complements sensitivity labels (document data flow + classify data sensitivity)
- [06.5 - Usage Monitoring & Adoption](./06.5%20-%20Usage%20Monitoring%20&%20Adoption.md) - Monitor usage of labeled content to identify PHI access patterns and compliance gaps

---

*Last updated: October 21, 2025*
